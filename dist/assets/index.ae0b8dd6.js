var e=Object.defineProperty,o=Object.defineProperties,t=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,a=(o,t,d)=>t in o?e(o,t,{enumerable:!0,configurable:!0,writable:!0,value:d}):o[t]=d,n=(e,o)=>{for(var t in o||(o={}))s.call(o,t)&&a(e,t,o[t]);if(d)for(var t of d(o))l.call(o,t)&&a(e,t,o[t]);return e};import{n as r,p as c,e as i,o as p,c as u,f as m,q as v,v as b,s as f,w as y,u as T,x as A,y as C,g as h,a as k,b as g,t as O,r as _,F as q,z as F,A as I}from"./vendor.1321f3e1.js";import{g as j}from"./axios.7b90d1d6.js";var w={name:"header",props:{add:{type:Function,required:!0}},setup(e){const o=r("");return{title:o,addTodo:()=>{const t=o.value;if(console.log(t),!t.trim())return;const d={id:Date.now(),title:t,isCompleted:!1};e.add(d),o.value=""}}}};const x=y();c("data-v-e8b83a76");const H={class:"header"},M={class:"todo-header"};i();const P=x(((e,o,t,d,s,l)=>(p(),u("div",H,[m("div",M,[v(m("input",{type:"text",placeholder:"请输入你的任务名称，按回车键确认","onUpdate:modelValue":o[1]||(o[1]=e=>d.title=e),onKeyup:o[2]||(o[2]=f(((...e)=>d.addTodo&&d.addTodo(...e)),["enter"]))},null,544),[[b,d.title]])])]))));w.render=P,w.__scopeId="data-v-e8b83a76";var S={name:"footer",props:{todos:{type:Array,required:!0},checkAll:{type:Function,required:!0},clearAllCompletedTodos:{type:Function,required:!0}},setup(e){const o=T((()=>e.todos.reduce(((e,o,t)=>e+(o.isCompleted?1:0)),0))),t=T({get:()=>o.value>0&&e.todos.length===o.value,set(o){e.checkAll(o)}});return{count:o,isCheckAll:t}}};const G=y();c("data-v-9c2beeb2");const N={class:"footer"},U={class:"todo-footer"};i();const V=G(((e,o,t,d,s,l)=>(p(),u("div",N,[m("div",U,[m("label",null,[v(m("input",{type:"checkbox","onUpdate:modelValue":o[1]||(o[1]=e=>d.isCheckAll=e)},null,512),[[A,d.isCheckAll]])]),m("span",null,[m("span",null,"已完成"+C(d.count),1),h(" / 全部"+C(t.todos.length),1)]),m("button",{class:"btn btn-danger",onClick:o[2]||(o[2]=(...e)=>t.clearAllCompletedTodos&&t.clearAllCompletedTodos(...e))},"清除已完成任务")])]))));S.render=V,S.__scopeId="data-v-9c2beeb2";var D={name:"item",props:{todo:{type:Object,required:!0},del:{type:Function,required:!0},updateTodo:{type:Function,required:!0}},data:()=>({mouse:0}),setup(e){const{del:o,todo:t}=e;let d=r(!1);const s=T({get:()=>t.isCompleted,set(o){e.updateTodo(t,o)}});return{isActive:d,onMouseHandler:e=>{d.value=e},delTodo:()=>{window.confirm("确定删除吗？")&&o(t.id)},isCompleted:s}}};const E=y();c("data-v-7a0b52f1");const J={class:"item todo-main"};i();const L=E(((e,o,t,d,s,l)=>(p(),u("div",J,[m("li",{onMouseenter:o[3]||(o[3]=e=>d.onMouseHandler(!0)),onMouseleave:o[4]||(o[4]=e=>d.onMouseHandler(!1)),class:{active:d.isActive}},[m("label",null,[v(m("input",{type:"checkbox","onUpdate:modelValue":o[1]||(o[1]=e=>d.isCompleted=e)},null,512),[[A,d.isCompleted]]),m("span",null,C(t.todo.title),1)]),m("button",{class:"btn btn-danger",style:{display:d.isActive?"block":"none"},onClick:o[2]||(o[2]=(...e)=>d.delTodo&&d.delTodo(...e))},"删除",4)],34)]))));D.render=L,D.__scopeId="data-v-7a0b52f1";var z={name:"",props:{todos:{type:Array,default:()=>[]},del:{type:Function,required:!0},updateTodo:{type:Function,required:!0}},components:{Item:D},setup(){const e=k({});return g((()=>{})),n({},O(e))}};const K=y();c("data-v-8aef1536");const B={class:"list"},Q={className:"todo-main"};i();const R=K(((e,o,t,d,s,l)=>{const a=_("Item");return p(),u("div",B,[m("ul",Q,[(p(!0),u(q,null,F(t.todos,((e,o)=>(p(),u(a,{key:e.id,todo:e,del:t.del,updateTodo:t.updateTodo},null,8,["todo","del","updateTodo"])))),128))])])}));function W(e){localStorage.setItem("todos_key",JSON.stringify(e))}z.render=R,z.__scopeId="data-v-8aef1536";var X={name:"",components:{Header:w,List:z,Footer:S},setup(){const e=k({todos:[]});g((()=>{setTimeout((()=>{e.todos=JSON.parse(localStorage.getItem("todos_key")||"[]")}),1e3)}));I((()=>e.todos),W,{deep:!0});return d=n({},O(e)),o(d,t({testGet:()=>{j("/api/test",{}).then((e=>{console.log(e)}))},add:o=>{e.todos.unshift(o)},del:o=>{e.todos=e.todos.filter((e=>e.id!==o))},updateTodo:(e,o)=>{e.isCompleted=o},checkAll:o=>{e.todos.forEach((e=>{e.isCompleted=o}))},clearAllCompletedTodos:()=>{e.todos=e.todos.filter((e=>!e.isCompleted))}}));var d}};const Y=y();c("data-v-0aee2faf");const Z={class:"todolist"},$={class:"todo-container"},ee={class:"todo-wrap"};i();const oe=Y(((e,o,t,d,s,l)=>{const a=_("Header"),n=_("List"),r=_("Footer");return p(),u("div",Z,[m("p",{onClick:o[1]||(o[1]=(...e)=>d.testGet&&d.testGet(...e))},"testGet"),m("div",$,[m("div",ee,[m(a,{add:d.add},null,8,["add"]),m(n,{todos:e.todos,del:d.del,updateTodo:d.updateTodo},null,8,["todos","del","updateTodo"]),m(r,{todos:e.todos,checkAll:d.checkAll,clearAllCompletedTodos:d.clearAllCompletedTodos},null,8,["todos","checkAll","clearAllCompletedTodos"])])])])}));X.render=oe,X.__scopeId="data-v-0aee2faf";export default X;
